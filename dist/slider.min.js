!function(a,b){"use strict";"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.Slider=b()}(this,function(){"use strict";function a(){}function b(){this.alignment="start",this.initialSlide=0,this.orientation="horizontal",this.bounce=!0,this.timeFunction="cubic-bezier(0.1, 0.57, 0.1, 1)",this.speed=300}function c(a,c){var d;this.el=this.validateElement(a),d=c||{},this.options=h.extend(new b,d),this.defineProperties(),this.defineMutableProperties(),this.setUp(),this.setCss(),this.init(),this.bind(),this.initSnap()}function d(){var a=0,b=0;this.startPosition=0,this.endPosition=0,this.setTimeStart=function(){a=Date.now()},this.setTimeEnd=function(){b=Date.now()},this.getSwipeTime=function(){return b-a},this.getSwipeDirection=function(){return this.startPosition>this.endPosition?"next":this.startPosition<this.endPosition?"prev":!1}}var e=Array.prototype.slice,f="ontouchstart"in window;a.prototype.proxy=function(a,b){var c,d;return d=e.call(arguments,2),c=function(c){return c.preventDefault(),a.apply(b||this,d.concat(e.call(arguments)))}},a.prototype.extend=function(a,b){for(var c in b)a[c]=b[c];return a},a.prototype.cssTransform=function(a,b,c){var d;this.transformProperty||("transform"in a.style?this.transformProperty="transform":"webkitTransform"in a.style?this.transformProperty="webkitTransform":"MozTransform"in a.style?this.transformProperty="MozTransform":"msTransform"in a.style&&(this.transformProperty="msTransform")),d="translateX("+b+"px)",d+="translateY("+c+"px)",d+="translateZ(0px)",a.style[this.transformProperty]=d},a.prototype.cssTransition=function(a,b,c){var d;this.transitionProperty||("transition"in a.style?this.transitionProperty="transition":"webkitTransition"in a.style&&(this.transitionProperty="webkitTransition")),d=b+"ms "+c,a.style[this.transitionProperty]=d},a.prototype.clientAxis=function(a){var b={x:a.clientX||a.touches[0].pageX,y:a.clientY||a.touches[0].pageY};return b},a.prototype.events={start:f?"touchstart":"mousedown",move:f?"touchmove":"mousemove",end:f?"touchend":"mouseup",resize:"resize"};var g,h=new a;return g=c.prototype,g.validateElement=function(a){return"string"==typeof a?document.querySelector(a):a.length?a[0]:a},g.defineProperties=function(){this.holder=this.el.children[0],this.active=!1,this.setCurrent()},g.defineMutableProperties=function(){this.slides=this.holder.children,this.slidesQtd=this.slides.length,this.viewWidth=this.el.offsetWidth,this.viewHeight=this.el.offsetHeight,this.contentWidth=this.holder.scrollWidth,this.contentHeight=this.holder.scrollHeight},g.setCurrent=function(a){var b=a||this.options.initialSlide;this.current=b},g.setUp=function(){var a,b,c,d,e;this.dimensions={sliderSize:[],sliderSum:[]},this.positions={start:[],center:[],end:[]},e="vertical"==this.options.orientation?"offsetHeight":"offsetWidth",d=0;for(var f=0;f<this.slidesQtd;f++)this.dimensions.sliderSize.push(this.slides[f][e]),d+=this.slides[f][e],this.dimensions.sliderSum.push(d);a=this.dimensions.sliderSum,b=this.dimensions.sliderSize,c=this.el[e];for(var f=0;f<this.slidesQtd;f++)this.positions.start.push(a[f]-b[f]),this.positions.center.push(a[f]-c+(c-b[f])/2),this.positions.end.push(a[f]-c)},g.setCss=function(){h.cssTransition(this.holder,this.options.speed,this.options.timeFunction),this.holder.style.willChange="transform"},g.init=function(){this.goToSlide()},g.next=function(){this.current<this.slidesQtd-1&&this.current++,this.goToSlide()},g.prev=function(){this.current>0&&this.current--,this.goToSlide()},g.goToSlide=function(){var a=-this.positions[this.options.alignment][this.current];this.dislocateElement(a,a)},g.update=function(){this.defineMutableProperties(),this.setUp()},g.reset=function(){this.update(),this.setCurrent()},g.dislocateElement=function(a,b){var c={x:a||0,y:b||0},d=this.positions.start[0],e=this.positions.end[this.positions.end.length-1];e=-e;var f="vertical"==this.options.orientation?c.y:c.x,g=f;this.options.bounce?(g=f>d?f/3:e>f?(f-e)/3+e:f,this.checkDirection(g)):f>d||e>f||this.checkDirection(g),this.contentX=c.x,this.contentY=c.y},g.checkDirection=function(a){"vertical"==this.options.orientation?h.cssTransform(this.holder,0,a):h.cssTransform(this.holder,a,0)},g.bind=function(){this.el.addEventListener(h.events.start,h.proxy(this.start,this)),this.el.addEventListener(h.events.move,h.proxy(this.move,this)),this.el.addEventListener(h.events.end,h.proxy(this.end,this)),window.addEventListener(h.events.resize,h.proxy(this.resize,this)),this.swipeData=new d},g.start=function(a){this.active=!0,this.deltaX=h.clientAxis(a).x-this.contentX,this.deltaY=h.clientAxis(a).y-this.contentY,h.cssTransition(this.holder,0,this.options.timeFunction),this.swipeData.setTimeStart(),this.swipeData.startPosition="vertical"==this.options.orientation?this.contentY:this.contentX},g.move=function(a){this.active&&(this.contentX=h.clientAxis(a).x-this.deltaX,this.contentY=h.clientAxis(a).y-this.deltaY,this.dislocateElement(this.contentX,this.contentY))},g.end=function(a){this.active=!1,h.cssTransition(this.holder,this.options.speed,this.options.timeFunction),this.swipeData.setTimeEnd(),this.swipeData.endPosition="vertical"==this.options.orientation?this.contentY:this.contentX,this.checkSwipe()},g.checkSwipe=function(){this.swipeData.getSwipeTime()>300?this.snap():"next"==this.swipeData.getSwipeDirection()?this.next():"prev"==this.swipeData.getSwipeDirection()&&this.prev()},g.resize=function(){this.update()},g.initSnap=function(){var a=this.positions,b=this.dimensions.sliderSize.map(function(a){return a/2}),c={start:[],center:[],end:[]};c.start=a.start.map(function(a,c){return-(a+b[c])}),c.start.unshift(1/0),c.start[c.start.length-1]=-(1/0),c.center=a.center.map(function(a,c){return-(a+b[c])}),c.center.unshift(1/0),c.center[c.start.length-1]=-(1/0),c.end=a.end.map(function(a,c){return-a+b[c]}),c.end[0]=1/0,c.end.push(-(1/0)),this.snapAxis=c},g.snap=function(){for(var a=this.slidesQtd,b="vertical"==this.options.orientation?this.contentY:this.contentX,c=this.snapAxis[this.options.alignment],d=0;a>d;d++)b<c[d]&&b>c[d+1]&&(this.current=d,this.goToSlide())},c});